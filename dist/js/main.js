(()=>{var d=document.querySelector(".js-dateInput"),e=new Date,M=document.querySelector(".js-point-pool"),m=!0,s=[],h=90;d.setAttribute("max",e.toISOString().split("T")[0]);d.setAttribute("min",new Date(e.getFullYear()-90,e.getMonth(),e.getDate()).toISOString().split("T")[0]);d.addEventListener("change",f);function f(){m?(T(),m=!1):s.forEach(a=>{a.classList.remove("c-month-point--active"),a.classList.remove("c-month-point--past")});var n=document.querySelector(".js-dateInput").value,t=new Date(n),r=Math.abs(e.getTime()-t.getTime()),i=e.getFullYear()*12+e.getMonth(),c=t.getFullYear()*12+t.getMonth(),l=Math.floor(r/(1e3*3600*24)),g=Math.floor(l/7),p=Math.floor(l/365),u=new Date(t.getFullYear()+h,t.getMonth(),t.getDate()+1),v=u.getFullYear()*12+u.getMonth(),y=v-c,o=i-c,D=y-o;s[o].classList.add("c-month-point--active");for(let a=0;a<o;a++)s[a].classList.add("c-month-point--past");L(l,g,o,p)}function T(){for(let n=0;n<h*12;n++){let t=document.createElement("div");t.classList.add("c-month-point"),M.appendChild(t),s.push(t)}}function L(n,t,r,i){document.querySelector(".c-stats").style.display="flex",document.getElementById("days").innerHTML=n+" jours",document.getElementById("weeks").innerHTML=t+" semaines",document.getElementById("months").innerHTML=r+" mois",document.getElementById("years").innerHTML=i+" ans"}})();
