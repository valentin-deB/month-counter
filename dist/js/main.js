(()=>{var d=document.querySelector(".js-dateInput"),a=new Date,y=document.querySelector(".js-point-pool"),u=!0,r=[],h=90;d.setAttribute("max",a.toISOString().split("T")[0]);d.setAttribute("min",new Date(a.getFullYear()-90,a.getMonth(),a.getDate()).toISOString().split("T")[0]);d.addEventListener("change",f);function f(){u?(T(),u=!1):r.forEach(o=>{o.classList.remove("c-month-point--active"),o.classList.remove("c-month-point--past")});var e=document.querySelector(".js-dateInput").value,t=new Date(e),n=Math.abs(a.getTime()-t.getTime()),i=a.getFullYear()*12+a.getMonth(),c=t.getFullYear()*12+t.getMonth(),l=Math.floor(n/(1e3*3600*24)),p=Math.floor(l/7),g=Math.floor(l/365),m=new Date(t.getFullYear()+h,t.getMonth(),t.getDate()+1),v=m.getFullYear()*12+m.getMonth(),M=v-c,s=i-c,D=M-s;r[s].classList.add("c-month-point--active");for(let o=0;o<s;o++)r[o].classList.add("c-month-point--past");L(l,p,s,g)}function T(){for(let e=0;e<=h*12;e++){let t=document.createElement("div");if(t.classList.add("c-month-point"),y.appendChild(t),r.push(t),e%(12*30)==0){let n=document.createElement("p");n.classList.add("c-month-point--after"),n.innerHTML=e/12,t.appendChild(n)}}}function L(e,t,n,i){document.querySelector(".c-stats").style.display="flex",document.getElementById("days").innerHTML=e+" jours",document.getElementById("weeks").innerHTML=t+" semaines",document.getElementById("months").innerHTML=n+" mois",document.getElementById("years").innerHTML=i+" ans"}})();
