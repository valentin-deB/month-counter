(()=>{var i=document.querySelector(".js-dateInput"),a=new Date,f=document.querySelector(".js-point-pool"),m=!0,r=[],h=90;i.setAttribute("max",a.toISOString().split("T")[0]);i.setAttribute("min",new Date(a.getFullYear()-90,a.getMonth(),a.getDate()).toISOString().split("T")[0]);i.setAttribute("value",new Date(2e3,4,27).toISOString().split("T")[0]);p();i.addEventListener("change",p);function p(){m?(T(),m=!1):r.forEach(o=>{o.classList.remove("c-month-point--active"),o.classList.remove("c-month-point--past")});var e=document.querySelector(".js-dateInput").value,t=new Date(e),n=Math.abs(a.getTime()-t.getTime()),l=a.getFullYear()*12+a.getMonth(),c=t.getFullYear()*12+t.getMonth(),d=Math.floor(n/(1e3*3600*24)),g=Math.floor(d/7),v=Math.floor(d/365),u=new Date(t.getFullYear()+h,t.getMonth(),t.getDate()+1),M=u.getFullYear()*12+u.getMonth(),y=M-c,s=l-c,D=y-s;r[s].classList.add("c-month-point--active");for(let o=0;o<s;o++)r[o].classList.add("c-month-point--past");L(d,g,s,v)}function T(){for(let e=0;e<=h*12;e++){let t=document.createElement("div");if(t.classList.add("c-month-point"),f.appendChild(t),r.push(t),e%(12*30)==0){let n=document.createElement("p");n.classList.add("c-month-point--after"),n.innerHTML=e/12,t.appendChild(n)}}}function L(e,t,n,l){document.querySelector(".c-stats").style.display="flex",document.getElementById("days").innerHTML=e+" jours",document.getElementById("weeks").innerHTML=t+" semaines",document.getElementById("months").innerHTML=n+" mois",document.getElementById("years").innerHTML=l+" ans"}})();
